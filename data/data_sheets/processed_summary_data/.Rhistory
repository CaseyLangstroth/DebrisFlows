g14obs = g14obs[-c(32:34),]
all = rbind(g14,g14obs, wall_vol)
all = cbind(all, est_vol[2])
colnames(all) = c('Site', 'VolM', 'Source', 'EstVol')
gartnervol = rbind(g14, g14obs)
gartnervol = cbind(gartnervol, est_vol[2])
colnames(gartnervol) = c('Site', 'VolM', 'Source', 'EstVol')
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:396)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
alldev = sd(na.omit(allsd$diff))
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, color = Source)) + geom_point() + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)') + ggtitle('Gartner (2014) and Wall (2022) Volume Models') + theme_bw()+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = alldev, linetype = 'dashed')+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed')+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)
allplot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\allvol.png', plot = allplot, device = 'png')
folder = 'C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\processed_summary_data'
setwd(folder)
library(readxl)
gsdvol= read_excel('Catchment_Stats.xlsx', sheet = 'Sheet2', na = ' ')
View(gsdvol)
lnvol = gsdvol[,c(1,26,28,29)]
View(lnvol)
lnvolwall = gsdvol[,c(1,26)]
lnvolg14 = gsdvol[,c(1,28)]
lnvolimg = gsdvol[,c(1,29)]
View(lnvol)
View(lnvolg14)
View(lnvolimg)
View(lnvolwall)
lnvolwall = gsdvol[,c(1,21)]
lnvolg14 = gsdvol[,c(1,28)]
lnvolimg = gsdvol[,c(1,29)]
lnvol = rbind(lnvolwall,lnvolg14,lnvolimg)
lnvolwall = gsdvol[,c(1,21)]
lnvolwall$Source = 'Wall'
lnvolg14 = gsdvol[,c(1,28)]
lnvolg14$Source = 'Gartner 14'
lnvolimg = gsdvol[,c(1,29)]
lnvolimg$Source = 'Imagery'
lnvolwall = gsdvol[,c(1,21)]
lnvolwall$Source = 'Wall'
lnvolg14 = gsdvol[,c(1,28)]
lnvolg14$Source = 'Gartner 14'
lnvolimg = gsdvol[,c(1,29)]
lnvolimg$Source = 'Imagery'
colnames(lnvolwall) = c('Site', 'ln_vol', 'Source')
colnames(lnvolg14) = c('Site', 'ln_vol', 'Source')
colnames(lnvolimg) = c('Site', 'ln_vol', 'Source')
lnvol = rbind(lnvolwall,lnvolg14,lnvolimg)
lnvol = rbind(lnvolwall,lnvolg14,lnvolimg)
lnx = rbind(lnvolwall, lnvolg14)
lnvolplot = ggplot(data = lnvol, aes(lnx, lnvolimg, color = Source)) + geom_point() + + geom_abline(mapping = NULL, data = NULL, 1, 0) +xlim(0,15000) + ylim(0,15000) +ylab('Ln Modeled Volume (m3)') + xlab('Ln Estimated Initial Volume from Imagery (m3)') + ggtitle('Ln Vol') + theme_bw()
lnvolplot = ggplot(data = lnvol, aes(lnx, lnvolimg, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +xlim(0,15000) + ylim(0,15000) +ylab('Ln Modeled Volume (m3)') + xlab('Ln Estimated Initial Volume from Imagery (m3)') + ggtitle('Ln Vol') + theme_bw()
lnvolplot
lnvolplot = ggplot(data = lnvolimg, aes(lnx, lnvolimg, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +xlim(0,15000) + ylim(0,15000) +ylab('Ln Modeled Volume (m3)') + xlab('Ln Estimated Initial Volume from Imagery (m3)') + ggtitle('Ln Vol') + theme_bw()
lnvolplot
lnvolwall = gsdvol[,c(1,21)]
lnvolwall$Source = 'Wall'
lnvolg14 = gsdvol[,c(1,28)]
lnvolg14$Source = 'Gartner 14'
lnvolimg = gsdvol[,c(1,29)]
lnvolimg$Source = 'Imagery'
cbind(lnvolwall, lnvolimg[2])
cbing(lnvolg14, lnvolimg[2])
lnvolwall = gsdvol[,c(1,21)]
lnvolwall$Source = 'Wall'
lnvolg14 = gsdvol[,c(1,28)]
lnvolg14$Source = 'Gartner 14'
lnvolimg = gsdvol[,c(1,29)]
lnvolimg$Source = 'Imagery'
cbind(lnvolwall, lnvolimg[2])
cbind(lnvolg14, lnvolimg[2])
colnames(lnvolwall) = c('Site', 'ln_vol', 'Source', 'LnEstInt')
colnames(lnvolg14) = c('Site', 'ln_vol', 'Source', 'LnEstInt')
colnames(lnvolimg) = c('Site', 'ln_vol', 'Source', 'LnEstInt')
lnvolwall = gsdvol[,c(1,21)]
lnvolwall$Source = 'Wall'
lnvolg14 = gsdvol[,c(1,28)]
lnvolg14$Source = 'Gartner 14'
lnvolimg = gsdvol[,c(1,29)]
lnvolimg$Source = 'Imagery'
lnvolwall = cbind(lnvolwall, lnvolimg[2])
lnvolg14 = cbind(lnvolg14, lnvolimg[2])
colnames(lnvolwall) = c('Site', 'ln_vol', 'Source', 'LnEstInt')
colnames(lnvolg14) = c('Site', 'ln_vol', 'Source', 'LnEstInt')
colnames(lnvolimg) = c('Site', 'ln_vol', 'Source', 'LnEstInt')
View(lnvolg14)
lnvol = rbind(lnvolwall,lnvolg14)
lnvolplot = ggplot(data = lnvol, aes(ln_vol,LnEstInt, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +xlim(0,15000) + ylim(0,15000) +ylab('Ln Modeled Volume (m3)') + xlab('Ln Estimated Initial Volume from Imagery (m3)') + ggtitle('Ln Vol') + theme_bw()
lnvolplot
lnvolplot = ggplot(data = lnvol, aes(ln_vol,LnEstInt, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +ylab('Ln Modeled Volume (m3)') + xlab('Ln Estimated Initial Volume from Imagery (m3)') + ggtitle('Ln Vol') + theme_bw()
lnvolplot
lnvolplot = ggplot(data = lnvol, aes(LnEstInt,ln_vol, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +ylab('Ln Modeled Volume (m3)') + xlab('Ln Estimated Initial Volume from Imagery (m3)') + ggtitle('Ln Vol') + theme_bw()
lnvolplot
lnvolplot = ggplot(data = lnvol, aes(LnEstInt,ln_vol, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +ylab('ln(Modeled Volume) (m3)') + xlab('ln(Estimated Initial Volume from Imagery) (m3)') + ggtitle('Ln Vol') + theme_bw()
lnvolplot
lnvolplot = ggplot(data = lnvol, aes(LnEstInt,ln_vol, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +ylab('ln(Modeled Volume) (m3)') + xlab('ln(Estimated Initial Volume from Imagery) (m3)') + ggtitle('Ln Vol') + theme_bw() +ylim(0,11) + xlim(0,11)
lnvolplot
lnvolplot = ggplot(data = lnvol, aes(LnEstInt,ln_vol, color = Source)) + geom_point() +  geom_abline(mapping = NULL, data = NULL, 1, 0) +ylab('ln(Modeled Volume) (m3)') + xlab('ln(Estimated Initial Volume from Imagery) (m3)') + ggtitle('ln(Vol)') + theme_bw() +ylim(0,11) + xlim(0,11)
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\allvol.png', plot = lnvolplot, device = 'png')
lnvolplot
View(vol_ratio)
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() + scale_color_manual(values = c('black','red')) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(color ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\VolRatio2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio)) + geom_point(aes(obs_vol, Ratio, shape = 1)) + scale_color_manual(values = c('black','red')) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(color ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
vol_ratio_plot
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio)) + geom_point(color = Used, shape = 1)) + scale_color_manual(values = c('black','red')) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(color ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio)) + geom_point(color = Used, shape = 1) + scale_color_manual(values = c('black','red')) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(color ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(color ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\VolRatio2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, color = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(color ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\VolRatio2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(color ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\VolRatio2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled/Observed Volume') + ggtitle('2020 Modeled vs Observed Volume') + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\VolRatio2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, slope = 1, linetype = 'dashed', color = 'red') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_ratio_plot, device = 'png')
vol_reg_obs = vol_comp[,c(1:2,6)]
View(vol_reg_obs)
vol_ratio = vol_reg_obs
vol_ratio$Ratio = NA
vol_ratio$Used = NA
View(vol_ratio)
vol_ratio[c(2,9,12,13,14,16,19,23), 4] = 'Used'
vol_ratio[c(1,3,4,5,6,7,8,10,11,15,17,18,20,21,22,24:29),4] = 'Not Used'
group = c('Y','N')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, slope = 1, linetype = 'dashed', color = 'red') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio = vol_reg_obs
vol_ratio$Ratio = NA
vol_ratio$Used = NA
vol_ratio$Ratio = vol_ratio[,3]/vol_ratio[,2]
vol_ratio = vol_ratio[,-c(3)]
vol_ratio[c(2,9,12,13,14,16,19,23), 5] = 'Used'
vol_ratio[c(1,3,4,5,6,7,8,10,11,15,17,18,20,21,22,24:29),5] = 'Not Used'
group = c('Y','N')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, slope = 1, linetype = 'dashed', color = 'red') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
vol_reg_obs = vol_comp[,c(1:2,6)]
vol_ratio = vol_reg_obs
vol_ratio$Ratio = NA
vol_ratio$Used = NA
vol_ratio$Ratio = vol_ratio[,3]/vol_ratio[,2]
vol_ratio[c(2,9,12,13,14,16,19,23), 5] = 'Used'
vol_ratio[c(1,3,4,5,6,7,8,10,11,15,17,18,20,21,22,24:29),5] = 'Not Used'
group = c('Y','N')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, slope = 1, linetype = 'dashed', color = 'red') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 1, slope = 1, linetype = 'dashed', color = 'red') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 0, slope = 1, linetype = 'dashed', color = 'red') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 0, linetype = 'dashed', color = 'red') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 0,color = 'black') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+scale_x_continuous(expand = c(0, 0)) + scale_y_continuous(expand = c(0, 0))+ theme(legend.position = 'right') + geom_abline(yintercept = 0,color = 'black') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 0, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 1.5,slope = 1, linetype = 'dashed') + geom_hline(yintercept = 0.5, linetype = 'dashed')
vol_ratio_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 0, color = 'black')
vol_ratio_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_ratio_plot, device = 'png')
library(ggplot2)
vol_comp_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 0, color = 'black')
vol_comp_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_comp_plot, device = 'png')
library(ggplot2)
vol_comp_plot = ggplot(data = vol_ratio, aes(obs_vol, X2020_reg, shape = Used)) + geom_point() + scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_abline(yintercept = 0, color = 'black')
vol_comp_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsMod2020.png', plot = vol_comp_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, shape = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, shape = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
View(vol_ratio)
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume/Observed Volume (m3)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume/Observed Volume')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume/Observed Volume (ratio)')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume:Observed Volume')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume:Observed Volume')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = blank) + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume:Observed Volume')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = none) + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume:Observed Volume')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'none') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
vol_ratio_plot = ggplot(data = vol_ratio, aes(obs_vol, Ratio, shape = Used)) + geom_point() +  scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + xlab('Observed Volume (m3)') + ylab('Modeled Volume:Observed Volume')  + theme_bw() + labs(shape ='Sites used in this study')+ expand_limits(x=0,y=0)+ theme(legend.position = 'right') + geom_hline(yintercept = 1, color = 'black') + geom_hline(yintercept = 1.5, linetype = 'dashed', color = 'black') + geom_hline(yintercept = 0.5, linetype = 'dashed', color = 'black')
vol_ratio_plot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\ObsRatio2020.png', plot = vol_ratio_plot, device = 'png')
folder = 'C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\processed_summary_data'
setwd(folder)
setwd("~/USU/DF_Areas/debris_flow_stats/data/data_sheets/processed_summary_data")
folder = 'C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\processed_summary_data'
setwd(folder)
library(readxl)
library(readxl)
gsdvol= read_excel('Catchment_Stats.xlsx', sheet = 'Vol_Summaries', na = ' ')
folder = 'C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\processed_summary_data'
setwd(folder)
gsdvol= read_excel('Catchment_Stats.xlsx', sheet = 'Vol_Summaries', na = ' ')
folder = 'C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\data_sheets\\processed_summary_data'
setwd(folder)
library(readxl)
gsdvol= read_excel('Catchment_Stats.xlsx', sheet = 'Vol_Summaries', na = ' ')
est_vol = gsdvol[c(1,2)]
wall_vol = gsdvol[,c(1,3)]
g14 = gsdvol[,c(1,4)]
View(gsdvol)
folder = 'C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\data_sheets\\processed_summary_data'
setwd(folder)
library(readxl)
gsdvol= read_excel('Catchment_Stats.xlsx', sheet = 'Vol_Summaries', na = ' ')
folder = 'C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\data_sheets\\processed_summary_data'
setwd(folder)
library(readxl)
gsdvol= read_excel('Catchment_Stats.xlsx', sheet = 'Vol_Summaries', na = ' ')
est = 'imagery'
wall = 'Wall 2022'
gart = 'Gartner 2014 1yr'
wall_vol = cbind(wall_vol, wall)
colnames(wall_vol) = c('Site','VolM', 'Source')
g14 = cbind(g14, gart)
colnames(g14) = c('Site','VolM', 'Source')
est_vol = cbind(est_vol, est)
colnames(est_vol)= c('Site', 'VolM', 'Source')
all = rbind(g14, wall_vol)
View(all)
View(g14)
est = 'imagery'
wall = 'Wall (2022)'
gart = 'Gartner (2014) 1yr'
wall_vol = cbind(wall_vol, wall)
colnames(wall_vol) = c('Site','VolM', 'Source')
g14 = cbind(g14, gart)
colnames(g14) = c('Site','VolM', 'Source')
est_vol = gsdvol[c(1,2)]
wall_vol = gsdvol[,c(1,3)]
g14 = gsdvol[,c(1,8)]
est = 'imagery'
wall = 'Wall (2022)'
gart = 'Gartner (2014) 1yr'
wall_vol = cbind(wall_vol, wall)
colnames(wall_vol) = c('Site','VolM', 'Source')
g14 = cbind(g14, gart)
colnames(g14) = c('Site','VolM', 'Source')
est_vol = cbind(est_vol, est)
colnames(est_vol)= c('Site', 'VolM', 'Source')
View(est_vol)
all = rbind(g14, wall_vol)
all = cbind(all, est_vol[2])
colnames(all) = c('Site', 'VolM', 'Source', 'EstVol')
#gartnervol = cbind(g14, est_vol[8])
#colnames(gartnervol) = c('Site', 'VolM', 'Source', 'EstVol')
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:31)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
alldev = sd(na.omit(allsd$diff))
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, color = Source)) + geom_point() + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= c(1, 12))) + geom_point() + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)
allplot
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16))  geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0) + geom_abline(intercept=allsd)
(intercept=allsd)
allplot
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -walldev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -walldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = walldev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
all = rbind(g14, wall_vol)
all = cbind(all, est_vol[2])
colnames(all) = c('Site', 'VolM', 'Source', 'EstVol')
gartnervol = cbind(g14, est_vol[2])
colnames(gartnervol) = c('Site', 'VolM', 'Source', 'EstVol')
View(gartnervol)
risd = gartnervol[,-c(3)]
risd$diff = NA
rows = c(1:31)
for (i in rows){
risd[i,4] = (risd[i,2]-risd[i,3])
}
risddev = sd(na.omit(risd$diff))
wallsd = wallestvol[,-c(3)]
wallsd$diff= NA
rows = c(1:31)
for (i in rows){
wallsd[i,4] = (wallsd[i,2]-wallsd[i,3])
}
walldev = sd(na.omit(wallsd$diff))
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:31)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
alldev = sd(na.omit(allsd$diff))
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -walldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = walldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -risddev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -walldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = walldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = risddev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
View(allsd)
risd = gartnervol[,-c(3)]
risd$diff = NA
rows = c(1:62)
for (i in rows){
risd[i,4] = (risd[i,2]-risd[i,3])
}
risddev = sd(na.omit(risd$diff))
View(risd)
all = rbind(g14, wall_vol)
all = cbind(all, est_vol[2])
colnames(all) = c('Site', 'VolM', 'Source', 'EstVol')
gartnervol = cbind(g14, est_vol[2])
colnames(gartnervol) = c('Site', 'VolM', 'Source', 'EstVol')
risd = gartnervol[,-c(3)]
risd$diff = NA
rows = c(1:31)
for (i in rows){
risd[i,4] = (risd[i,2]-risd[i,3])
}
risddev = sd(na.omit(risd$diff))
wallsd = wallestvol[,-c(3)]
wallsd$diff= NA
rows = c(1:31)
for (i in rows){
wallsd[i,4] = (wallsd[i,2]-wallsd[i,3])
}
walldev = sd(na.omit(wallsd$diff))
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
alldev = sd(na.omit(allsd$diff))
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
alldevsort= (na.omit(allsd$diff))
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
allmn= mean(na.omit(allsd$diff), trim = 0.1)
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
allmn= mean(na.omit(allsd$diff))
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -allmn, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = allmn, linetype = 'dashed')
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -allmn, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = allmn, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
allmn= mean(na.omit(allsd$diff), trim = 0.5)
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -allmn, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = allmn, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
allmn= mean(na.omit(allsd$diff), trim = 0.3)
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -allmn, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = allmn, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
allmn= mean(na.omit(allsd$diff), trim = 0.2)
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -allmn, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = allmn, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
out = boxplot.stats(allsd$diff)$out
allsd = all[,-c(3)]
allsd$diff = NA
rows = c(1:62)
for (i in rows){
allsd[i,4]= (allsd[i,2]- allsd[i,3])
}
out = boxplot.stats(allsd$diff)$out
out_ind = which(allsd$diff %in% c(out))
all_nout = allsd[-c(out_ind)]
View(all_nout)
all_nout = allsd[-c(out_ind),]
alldev = sd(na.omit(all_nout$diff))
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = alldev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\figures\\allvol.png', plot = allplot, device = 'png')
wall_out = boxplot.stats(wallsd$diff)
View(wall_out)
wall_outind = which(wallsd$diff %in% c(wall_out))
wall_out = boxplot.stats(wallsd$diff)$out
wall_outind = which(wallsd$diff %in% c(wall_out))
View(wallsd)
g14_out = boxplot.stats(risd$diff)$out
g14_outind = which(risd$diff %in% c(g14_out))
risd = gartnervol[,-c(3)]
risd$diff = NA
rows = c(1:31)
for (i in rows){
risd[i,4] = (risd[i,2]-risd[i,3])
}
g14_out = boxplot.stats(risd$diff)$out
g14_outind = which(risd$diff %in% c(g14_out))
risddev = sd(na.omit(risd$diff))
g14_out = boxplot.stats(risd$diff)$out
g14_out = boxplot.stats(risd$diff)
View(g14_out)
g14_out = boxplot.stats(risd$diff, coef = 1)
g14_out = boxplot.stats(risd$diff, coef = 1)$out
g14_outind = which(risd$diff %in% c(g14_out))
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0)
#+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = alldev, linetype = 'dashed')
allplot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0) + theme(legend.position = 'none')
#+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = alldev, linetype = 'dashed')
allplot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0) + theme(legend.position = 'none')+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = alldev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\plots\\allvol.png', plot = allplot, device = 'png')
library(ggplot2)
gartnervol_plot = ggplot(data = na.omit(gartnervol), aes(EstVol, VolM, color = Source)) + geom_point() +geom_abline(mapping = NULL, data = NULL, 1, 0) + xlim(0,15000) + ylim(0,15000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)') + ggtitle('Gartner (2014) Modeled Volume') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = gartdev, linetype = 'dashed')+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -gartdev, linetype = 'dashed') + expand_limits(x=0,y=0) +theme_bw()
gartnervol_plot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\data\\data_sheets\\figures\\gartner_vol.png', plot = gartnervol_plot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,32000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0) + theme(legend.position = 'none')+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = alldev, linetype = 'dashed')
allplot
#ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\plots\\allvol.png', plot = allplot, device = 'png')
allplot = ggplot(data = na.omit(all), aes(EstVol, VolM, shape= Source)) + geom_point() +scale_color_manual(values = c('black','black')) + scale_shape_manual(values = c(1, 16)) + geom_abline(mapping = NULL, data = NULL, 1, 0) + ylim(0,32000) +ylab('Modeled Initial Volume (m3)') + xlab('Estimated Initial Volume from Imagery (m3)')  + theme_bw()+ labs(color ='Volume Model')+ expand_limits(x=0,y=0) + theme(legend.position = 'none')+ geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = -alldev, linetype = 'dashed') + geom_abline(mapping = NULL, data = NULL, slope = 1, intercept = alldev, linetype = 'dashed')
allplot
ggsave('C:\\Users\\clang\\Documents\\USU\\DF_Areas\\debris_flow_stats\\data\\figures\\plots\\allvol.png', plot = allplot, device = 'png')
